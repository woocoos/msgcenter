# 消息发送

消息服务提供了OpenAPI接口 `/api/v2/alerts`，可以通过HTTP请求发送消息。

客户端发送消息时,存在中重试机制,同时也受制于服务端的`groupWait`和`groupInterval`参数.
因此如果该条消息需要重发.可将`startsAt`设置于当前时间.

需要注意`endsAt`参数,一般情况下,该值不应该设置值,由消息服务自动控制(默认5分钟),除非该消息你已经明确的知道结束时间.
在结束时间内,该消息将在`groupInterval`内一直被分发路由,如果被`DupStage`判断为重复消息,则不会被发送,否则将会重新发送.

## 接收人

一个消息的指向人,在消息配置中,可以设置某个消息的接收人,也可以不设置.不设置的情况下就需要在发送消息时指定接收人.

### 预置参数

系统中预定义了一些参数,外部需要根据该参数的含义传递相应类型值.否则将会导致消息发送失败.

- `user`: 指定的消息接收人用户ID.
- `skipSub`: 'Y',指示该消息是否需要订阅处理. 如果为订阅型消息,则会复制该消息给订阅者.该标签用来指示消息跳过订阅处理过程.
